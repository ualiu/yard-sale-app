<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>find yard sales in KW - jard.</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: #0c0c18">
    <div class="container">
      <a class="navbar-brand">
        <img src="/public/imgs/logo.png" alt="" width="100" height="100">
      </a>
      <div class="mt-4">
        <a href="/api/post/new" class="btn btn-outline-success btn-nav"><i class="fas fa-plus"></i> Add new</a>
        <a href="/api/post/sellerHomeAllPosts" class="btn btn-outline-warning btn-nav"><i class="fas fa-eye"></i> View all Yard Sales</a>
        <a href="/logout" class="btn btn-outline-danger btn-nav" role="button">Logout 	<i class="fas fa-sign-out-alt"></i></a>
      </div>
      </div>
  </nav>
  <!-- <li class="nav-item"><a class="nav-link active" href="/api/post/garagePosts">View all Garage Sales</a></li> -->
  <div class="container col-xxl-8 px-4 py-5 card-container">
  <div class="container mt-5">
      <h1 class="mb-4"><h1 class="mb-4">Currently, there are <span style="color:green">(<b><%= numOfPosts %></b>)</span> upcoming yard sales posted in Kitchener-Waterloo:</h1></h1>
    </div>
  </div>
    
  <div class="container mt-5">

    <table class="table">
      <thead>
        <tr>
          <th scope="col">What's happening:</th>
          <th scope="col">Who's organizing:</th>
          <th scope="col">At address:</th>
          <th scope="col">On what date:</th>
          <th scope="col">At what time:</th>
        </tr>
      </thead>
      <tbody>
        <% garageSales.forEach(garageSale => { 
          let date = new Date(garageSale.date); 
          let formattedDate = date.getDate() + '/' + (date.getMonth()+1) + '/' + date.getFullYear(); %>
            <tr>
                <td><%= garageSale.description %></td>
                <td><%= garageSale.userID.userName %></td>
                <td><%= garageSale.location %></td>
                <td><%= formattedDate %></td>
                <td><%= garageSale.time %></td>
                <td>
                  <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                    <a href="#" type="button" class="btn btn-outline-success btn-md">
                      See pictures
                    </a>
                  </div>
                </td>
            </tr>
        <% }) %>
      </tbody>
    </table>
    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
      <a href="/api/post/sellerHome" class="btn btn-outline-danger btn-lg"><i class="fas fa-arrow-left"></i> Return to Dashboard</a>
    </div>
    <div class="container mt-4">
      <nav aria-label="Page navigation">
        <ul class="pagination">
          <% for (let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= currentPage == i ? 'active' : '' %>">
              <a class="page-link" href="?page=<%= i %>"><%= i %></a>
            </li>
          <% } %>
        </ul>
      </nav>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.bundle.min.js" integrity="sha512-9fDnDEZlqUSn8GOUWfPsxmAujwYQHTFv7FlRkW9Xz/aNlO6UBAvNl2N25jSWfzgUxdDwUHrlrjK/6nnXm6myng==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
